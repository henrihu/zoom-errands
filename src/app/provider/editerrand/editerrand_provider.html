<div id="editerrand-provider" class="border-top">
  <!-- <div class="alert-header">
    <div class="container">
      <div class="row">
        <div class="col-xs-4 padding-top-20">
          <img  src="assets/images/logos/ze_logo_header.png" width="100" height="45" />
        </div>

        <div class="col-xs-8 padding-right-0 ">
          <h3 class="alert-header-title">NEW JOB ALERT</h3>
          <p class="alert-sent">sent on: {{vm.job.created_at|date : 'MM/dd/yyyy h:mma'}}</p>
        </div>

      </div>
    </div>
  </div> -->

  <div class="alert-body">
    <div class="container">
      <div class="row margin-top-10">
        <div class="col-sm-6 col-sm-offset-3">
          <p>
            <h4 class="alert-subtitle text-bold margin-bottom-20">{{vm.job.title}}</h4>
          </p>
          <p>
            <span class="alert-label">Contact: </span>
            <span class="alert-value">{{vm.job.contact}}</span>
          </p>
          <p>
            <span class="alert-label">Service Category: </span>
            <span class="alert-value">{{vm.job.type.name}}</span>
          </p>
          <p>
            <span class="alert-label">Date/s: </span>
            <span class="alert-value">{{vm.job.datetime | date : 'MM/dd/yyyy, EEE'}}</span>
          </p>
          <p>
            <span class="alert-label">Pick Up Time: </span>
            <span class="alert-value">{{vm.job.datetime | date : 'shortTime'}}</span>
          </p>
          <p>
            <span class="alert-label">Delivery Time: </span>
            <span class="alert-value">{{vm.job.deliver_time | date : 'shortTime'}}</span>
          </p>
          <p ng-show="vm.job.type.name == 'Delivery'">
            <span class="alert-label">Item: </span>
            <span class="alert-value">{{vm.job.item}}</span>
          </p>
          <p ng-show="vm.job.type.name == 'Delivery'">
            <span class="alert-label">Pick up Location: </span>
            <span class="alert-value">{{vm.job.pick_up_address}} {{vm.job.pick_up_unit}}</span>
          </p>
          <p>
            <span class="alert-label">{{vm.job.type.name == 'Delivery' ? 'Delivery Location' : 'Starting Address'}}: </span>
            <span class="alert-value">{{vm.job.address}} {{vm.job.unit}}</span>
          </p>
          <p>
            <span class="alert-label">Require Purchase: </span>
            <span class="alert-value">{{vm.job.escrowable | yesNo}}</span>
          </p>
          <p class="alert-label">Job Notes</p>
          <div class="alert-notes b padding-15">
            {{vm.job.details}}<br>
            {{vm.job.funds_details}}
          </div>
        </div>
      </div>

      <div class="row margin-top-30">
        <div class="col-sm-6 col-sm-offset-3">
          <h4 class="alert-subtitle">Client Info</h4>
          <p>
            <span class="alert-label">Name: </span>
            <span>{{vm.job.client.fname}} {{vm.job.client.lname}}</span>
          </p>
          <p>
            <span class="alert-label">Phone: </span>
            <span>{{vm.job.client.phone1}}</span>
          </p>
          <p>
            <span class="alert-label">Email: </span>
            <span>{{vm.job.client.email}}</span>
          </p>
          <p class="alert-label">Client Notes</p>
          <pre class="alert-notes b padding-15">{{vm.job.client.notes}}</pre>
        </div>
      </div>

    <form ng-submit="vm.completeTask()">
      <div class="row margin-top-30">
        <div class="col-sm-6 col-sm-offset-3">
          <h4 class="alert-subtitle">Complete Job</h4>
          <p>
            <span class="alert-label">Hours Used(hrs): </span>
            <input ng-model="vm.job.usedHour" type="Number" step="0.25" min="0" max="200" class="form-control email-input"  required>
          </p>
          <p ng-if="vm.job.escrowable ">
            <span class="alert-label">Escrow Used($): </span>
            <input ng-model="vm.job.usedEscrow" type="Number" step="0.01" min="0" max="5000" class="form-control email-input" required>
          </p>
          <p>
            <span class="alert-label">Reception: </span>
            <input id="file-uploader" class="margin-bottom-10" type="file" nv-file-select uploader="vm.uploader" multiple/>
            <!-- <span ng-bind="vm.uploader.queue.length"></span>   -->
            <a ng-repeat="upload in vm.job.task_uploads" href="{{upload.uploadUrl}}" class="no-decoration" target="_blank">
              <img class="upload-img" ng-src="{{upload.uploadThumbUrl}}">
            </a>
            <a ng-repeat="img in vm.imgFiles" href="{{img.uploadUrl}}" class="no-decoration" target="_blank">
              <img class="upload-img" ng-src="{{img.thumbUrl}}">
            </a>
          </p>
        </div>
      </div>

      <div id="job-footer" class="row margin-bottom-40 margin-top-15">
        <div class="col-sm-6 col-sm-offset-3">
            <div ng-if="vm.job.status !== 'close'" class="col-xs-4 text-center">
              <button class="btn btn-success padding-horizontal-20" >Complete Task</button>
            </div>
            <div ng-if="vm.job.status !== 'close'" class="col-xs-4 col-xs-offset-2">
              <a class="btn btn-danger padding-horizontal-15" ui-sref='app.provider.myerrand'> Still Working... </a>
            </div>
            <div ng-show="false" ng-if="vm.job.status !== 'close'" class="col-xs-4 ">
              <a class="btn btn-warning padding-horizontal-15" ng-click='vm.cancelTask()'>Cancel Task</a>
            </div>
            <div ng-if="vm.job.status === 'close'" class="col-xs-12 ">
              <button class="btn btn-primary padding-horizontal-20" ui-sref='app.provider.myerrand'>Go back to My Jobs</button>
            </div>

        </div>
      </div>
    </form>
    </div>
  </div>
</div>

